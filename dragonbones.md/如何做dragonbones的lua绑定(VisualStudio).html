<!DOCTYPE html>
<!-- saved from url=(0066)http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>如何做dragonbones的lua绑定(VisualStudio)</title>
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://www.litefeel.com/feed/">
<link rel="pingback" href="http://www.litefeel.com/xmlrpc.php">
<link rel="author" href="https://plus.google.com/104333184459487597273">
<link rel="stylesheet" id="prettify_css-css" href="./如何做dragonbones的lua绑定(VisualStudio)_files/prettify.min.css" type="text/css" media="all">
<link rel="stylesheet" id="inove_style-css" href="./如何做dragonbones的lua绑定(VisualStudio)_files/style20140927.css" type="text/css" media="screen">
<script async="" src="./如何做dragonbones的lua绑定(VisualStudio)_files/analytics.js"></script><script type="text/javascript" src="./如何做dragonbones的lua绑定(VisualStudio)_files/prettify.min.js"></script>
<script type="text/javascript" src="./如何做dragonbones的lua绑定(VisualStudio)_files/jquery.js"></script>
<script type="text/javascript" src="./如何做dragonbones的lua绑定(VisualStudio)_files/jquery-migrate.min.js"></script>
<script type="text/javascript" src="./如何做dragonbones的lua绑定(VisualStudio)_files/swfobject-2.2.min.js"></script>
<script type="text/javascript" src="./如何做dragonbones的lua绑定(VisualStudio)_files/showflash.js"></script>
<script type="text/javascript" src="./如何做dragonbones的lua绑定(VisualStudio)_files/script20140919.js"></script>
<script type="text/javascript">
	window._wp_rp_static_base_url = 'https://wprp.zemanta.com/static/';
	window._wp_rp_wp_ajax_url = "http://www.litefeel.com/wp-admin/admin-ajax.php";
	window._wp_rp_plugin_version = '3.5.3';
	window._wp_rp_post_id = '2480';
	window._wp_rp_num_rel_posts = '10';
	window._wp_rp_thumbnails = false;
	window._wp_rp_post_title = '%E5%A6%82%E4%BD%95%E5%81%9Adragonbones%E7%9A%84lua%E7%BB%91%E5%AE%9A%28VisualStudio%29';
	window._wp_rp_post_tags = [];
	window._wp_rp_promoted_content = false;
</script>

		<!--wp code prettify-->
				<style type="text/css" id="prettify_custom">pre.prettyprint { margin: 5px; padding: 10px; max-height: 300px; overflow: auto; background-color: #f8f8f8;}</style>
		
		<script type="text/javascript">
			function wpCodePrettifyOnLoad(func){
				var wpCodePrettifyOldOnLoad = window.onload;
				if (typeof window.onload != 'function') {
					window.onload = func
				} else {
					window.onload = function () {
						wpCodePrettifyOldOnLoad();
						func()
					}
				}
			}

			wpCodePrettifyOnLoad(function(){prettyPrint();});
		</script>
		<!--//wp code prettify-->

		
<!-- All in One SEO Pack 2.2.3.1 by Michael Torbert of Semper Fi Web Design[-1,-1] -->
<meta name="description" content="最近好多同学在QQ群里问怎么在lua项目中使用DB(DrgonBones，龙骨)，为了帮助更多的人，同时也好让更多的人跟容易使用DB，">

<meta name="keywords" content="dragonbones,lua,visual studio,cocos2dx,程序开发">

<link rel="canonical" href="./如何做dragonbones的lua绑定(VisualStudio)_files/如何做dragonbones的lua绑定(VisualStudio).html">
<!-- /all in one seo pack -->
<script type="text/javascript">
window.showFlashExpressInstallSWFURL = 'http://www.litefeel.com/wp-content/plugins/flash-show-and-hide-box/swf/expressInstall.swf';
window.showFlashIconURL = 'http://www.litefeel.com/wp-content/plugins/flash-show-and-hide-box/img/flash_icon.gif';
window.showFlashShowingStateText = '';
window.showFlashHidingStateText = '';
</script>

<!--[if IE]>
<script>
	document.createElement('article');
	document.createElement('time');
</script>
<![endif]-->
<style type="text/css">
	@media (max-width: 960px) {
		body{min-width: 0}
		#sidebar,#searchbox,#header .floatright{display: none;}
		#menus li a{padding: 0 5px}
		#content .inner, #header .inner, #nav .inner, #footer .inner, #main,
		.comment .info{width: auto;}
		#comment{width: 99%;}
		#main{float: none;}
	}
	@media (max-width: 600px) {
		/*hide Collection,Album,Links*/
		#menus #menu-item-1502,#menus #menu-item-1501,#menus #menu-item-1500{display: none;}
	}
</style>
</head>
<body itemscope="" itemtype="http://schema.org/WebPage">

<!-- container START -->
<div id="container">

<!-- header START -->
<div id="header">
<div class="inner clearfix">
	<!-- banner START -->
		<!-- banner END -->

	<div id="caption">
		<h1 id="title"><a href="http://www.litefeel.com/">LiteFeel</a></h1>
		<div id="tagline">for flash and cocos2dx</div>
	</div>
	<div class="floatright">
		<img src="./如何做dragonbones的lua绑定(VisualStudio)_files/qr-website.png" title="扫描二维码查看" alt="网站二维码" width="90" height="90">
	</div>
	<div class="fixed"></div>
</div>
</div>
<!-- header END -->

<!-- navigation START -->
<div id="nav">
<div class="inner clearfix">
	<!-- menus START -->
	<ul id="menus"><li id="menu-item-748" class="home menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-748"><a href="http://www.litefeel.com/">Home</a></li>
<li id="menu-item-1502" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1502"><a href="http://www.litefeel.com/collection/">Collection</a></li>
<li id="menu-item-1552" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1552"><a title="插件" href="http://www.litefeel.com/plugins/">Plugins</a></li>
<li id="menu-item-2384" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2384"><a href="http://www.litefeel.com/notepaper/">Notepaper</a></li>
<li id="menu-item-2309" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-2309"><a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#">Tools</a>
<ul class="sub-menu">
	<li id="menu-item-2468" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2468"><a href="http://www.litefeel.com/tools/ip.php">IP</a></li>
	<li id="menu-item-1917" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1917"><a href="http://www.litefeel.com/tools/ascii.php">ASCII</a></li>
	<li id="menu-item-2265" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2265"><a href="http://www.litefeel.com/tools/unicode.php">Unicode</a></li>
	<li id="menu-item-2485" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2485"><a href="http://www.litefeel.com/tools/cocostudioPositionFixer.php">cocostudioPositionFixer</a></li>
</ul>
</li>
<li id="menu-item-1501" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1501"><a href="http://www.litefeel.com/album/">Album</a></li>
<li id="menu-item-1500" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1500"><a href="http://www.litefeel.com/links/">Links</a></li>
<li id="menu-item-1503" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1503"><a rel="author" href="http://www.litefeel.com/contact/">Contact</a></li>
</ul>		
		
	<!-- menus END -->

	<!-- searchbox START -->
	<div id="searchbox">
					<form action="http://www.litefeel.com/" method="get">
				<div class="content">
					<input type="text" class="textfield searchtip" name="s" size="24" value="">
					<input type="submit" class="button" value="">
				</div>
			</form>
			</div>

	<!-- searchbox END -->

	<div class="fixed"></div>
</div>
</div>
<!-- navigation END -->

<!-- content START -->
<div id="content">
<div class="inner clearfix">
	<!-- main START -->
	<div id="main">


	<div id="postpath" itemprop="breadcrumb">
		<a rel="nofollow" href="http://www.litefeel.com/">Home</a> &gt; <a href="http://www.litefeel.com/category/development/">程序开发</a> &gt; <a href="http://www.litefeel.com/category/development/cocos2dx/">cocos2dx</a> &gt; 如何做dragonbones的lua绑定(VisualStudio)	</div>
	<div class="post" id="post-2480" itemscope="" itemtype="http://schema.org/BlogPosting">
		<h1 itemprop="name">如何做dragonbones的lua绑定(VisualStudio)</h1>
		<link itemprop="url" href="./如何做dragonbones的lua绑定(VisualStudio)_files/如何做dragonbones的lua绑定(VisualStudio).html">
		<div class="info">
			<time class="date" itemprop="dateCreated" datetime="2014-10-16T18:39:46+00:00">2014年10月17日</time>
																<span class="addcomment"><a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond">发表评论</a></span>
				<span class="comments"><a itemprop="discussionUrl" href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comments">阅读评论</a></span>
									<div class="fixed"></div>
		</div>
		<div class="content" itemprop="articleBody">
			<p>最近好多同学在QQ群里问怎么在lua项目中使用DB(DrgonBones，龙骨)，为了帮助更多的人，同时也好让更多的人跟容易使用DB，这里详细记录coco2dx-3.2版本对应DB的lua绑定。<br>
首先要说明下，本文章对应的cocos2dx-3.2版本，其他cocos2dx-3.x版本跟3.2版本类似。<br>
这里假设自己使用cocos命令行创建的lua项目，而且没有修改过目录结构，如果修改了请自行查找具体文件所在目录。  </p>
<p><span id="more-2480"></span></p>
<p>第一个假设，假设你已经知道如何配置cocos2dx-3.x的lua绑定，如果不知道的请移步<a href="https://github.com/cocos2d/bindings-generator">bindings-generator</a>查看README文件。<br>
第二个假设，假设你已经使用cocos2dx-3.2创建了lua项目，名字为<code>MyLuaGame</code>，并且没有修改过里面的路径。</p>
<p>从<a href="https://github.com/DragonBones/DragonBonesCPP" title="DragonBonesCPP项目">GitHub</a>上下载<a href="https://github.com/DragonBones/DragonBonesCPP/archive/refactoring.zip" title="下载DragonBonesCPP">DragonBonesCPP</a>项目，将<code>dragonbones</code>文件夹移动到<code>MyLuaGame/frameworks/cocos2d-x/cocos/editor-support</code>下。目录结构类似于这样：<br>
<img alt="dragonbones-in-cocos2dx" src="./如何做dragonbones的lua绑定(VisualStudio)_files/dragonbones-in-cocos2dx.jpg" title="dragonbones在cocos2dx中的目录结构"></p>
<h4>添加db库</h4>
<p>在vs(Visual Studio)中打开<code>MyLuaGame</code>项目。<br>
右击<code>解决方案</code> =&gt; 添加 =&gt; 现有项目... ，选择MyLuaGame/frameworks/cocos2d-x/cocos/editor-support/dragonbones/renderer/cocos2d-x-3.x/proj.win32/libDragonbones.vcxproj。</p>
<h4>添加预处理宏</h4>
<p>对<code>libDragonbones</code>和<code>liblua</code>库添加预处理宏<code>DRAGON_BONES_ENABLE_LUA=1</code>。<br>
右击 <code>libDragonbones</code> =&gt; 属性 =&gt; 配置属性 =&gt; C/C++ =&gt; 预处理器 =&gt; 预处理定义 ，点击值后右边会有个下拉框，选择编辑，添加<code>DRAGON_BONES_ENABLE_LUA=1</code>并确认。<br>
这里是<code>libDragonbones</code>的预处理宏，<code>liblua</code>的也类似。<br>
<img alt="dragonbes-preprocessor-macros" src="./如何做dragonbones的lua绑定(VisualStudio)_files/dragonbes-preprocessor-macros.jpg" title="dragonbones添加预处理宏"></p>
<p>还有一种简便的方式，不需要去项目配置预定义宏，修改MyLuaGame/frameworks/cocos2d-x/cocos/editor-support/dragonbones/renderer/cocos2d-x-3.x/dbccMacro.h文件，<br>
将<code>#define DRAGON_BONES_ENABLE_LUA 0</code>中的0修改为1。<br>
不过不建议直接修改db的源文件，因为将来升级db的时候还需要再次修改这里。</p>
<h4>向<code>liblua</code>库中添加两条搜索路径</h4>
<p>右击 <code>liblua</code> =&gt; 属性 =&gt; 配置属性 =&gt; 常规 =&gt; 附加包含目录，点击值后右边会有个下拉框，选择编辑，添加下面的搜索路径并确认。</p>
<pre class="prettyprint prettyprinted"><span class="pln">$</span><span class="pun">(</span><span class="typ">EngineRoot</span><span class="pun">)</span><span class="pln">cocoseditor</span><span class="pun">-</span><span class="pln">supportdragonbones
$</span><span class="pun">(</span><span class="typ">EngineRoot</span><span class="pun">)</span><span class="pln">cocoseditor</span><span class="pun">-</span><span class="pln">supportdragonbonesrenderercocos2d</span><span class="pun">-</span><span class="pln">x</span><span class="pun">-</span><span class="lit">3.x</span></pre>
<h4>为MyLuaGame添加依赖项</h4>
<p>右键<code>MyLuaGame</code> =&gt; 生成依赖项 =&gt; 项目依赖项...，勾选<code>libDragonbones</code>。<br>
右键<code>MyLuaGame</code> =&gt; 属性 =&gt; 通用属性 =&gt; 添加新引用 =&gt; 勾选 <code>libDragonbones</code>。</p>
<h4>修改conversions.yaml</h4>
<p>文件路径：MyLuaGame/frameworks/cocos2d-x/tools/bindings-generator/targets/lua/conversions.yaml</p>
<p><code>ns_map:</code> 下添加 <code>"dragonBones::": "db."</code></p>
<p><code>to_native:</code> 下添加：</p>
<pre class="prettyprint prettyprinted"><span class="pln">LUA_FUNCTION </span><span class="pun">:</span><span class="pln"> </span><span class="str">"${out_value} =  toluafix_ref_function(tolua_S,${arg_idx},0);ok &amp;= ${out_value} != 0;"</span></pre>
<p>完整文件下载(<a href="https://github.com/lite3/DragonBonesCPPForLua/blob/master/cocos2dx-3.2/conversions.yaml">cocos2dx3.2</a>, <a href="https://github.com/lite3/DragonBonesCPPForLua/blob/master/cocos2dx-3.3/conversions.yaml">cocos2dx3.3</a>, <a href="https://github.com/lite3/DragonBonesCPPForLua/blob/master/cocos2dx-3.4/conversions.yaml">cocos2dx3.4</a>)，其他版本的请自行修改。</p>
<h4>添加dragonbones.ini</h4>
<p>文件路径：MyLuaGame/frameworks/cocos2d-x/tools/tolua/dragonbones.ini</p>
<p>复制cocos2dx.ini并命名为dragonbones.ini。<br>
参照cocos2dx-3.2的dragonbones.ini修改。</p>
<ol>
<li>修改第一行 <code>[cocos2d-x]</code> =&gt; <code>[dragonbones]</code></li>
<li>修改 <code>prefix = cocos2dx</code> =&gt; <code>prefix = dragonbones</code></li>
<li>修改 <code>target_namespace = cc</code> =&gt; <code>target_namespace = db</code></li>
<li>将下列路径追加到cocos_headers，空格分隔，不能换行。
<pre class="prettyprint prettyprinted"><span class="pun">-</span><span class="pln">I</span><span class="pun">%(</span><span class="pln">cocosdir</span><span class="pun">)</span><span class="pln">s</span><span class="pun">/</span><span class="pln">cocos</span><span class="pun">/</span><span class="pln">editor</span><span class="pun">-</span><span class="pln">support</span><span class="pun">/</span><span class="pln">dragonbones
</span><span class="pun">-</span><span class="pln">I</span><span class="pun">%(</span><span class="pln">cocosdir</span><span class="pun">)</span><span class="pln">s</span><span class="pun">/</span><span class="pln">cocos</span><span class="pun">/</span><span class="pln">editor</span><span class="pun">-</span><span class="pln">support</span><span class="pun">/</span><span class="pln">dragonbones</span><span class="pun">/</span><span class="pln">renderer</span><span class="pun">/</span><span class="pln">cocos2d</span><span class="pun">-</span><span class="pln">x</span><span class="pun">-</span><span class="lit">3.x</span><span class="pln">
</span><span class="pun">-</span><span class="pln">I</span><span class="pun">%(</span><span class="pln">cocosdir</span><span class="pun">)</span><span class="pln">s</span><span class="pun">/</span><span class="pln">external</span><span class="pun">/</span><span class="pln">lua</span><span class="pun">/</span><span class="pln">luajit</span><span class="pun">/</span><span class="pln">include
</span><span class="pun">-</span><span class="pln">I</span><span class="pun">%(</span><span class="pln">cocosdir</span><span class="pun">)</span><span class="pln">s</span><span class="pun">/</span><span class="pln">cocos</span><span class="pun">/</span><span class="pln">scripting</span><span class="pun">/</span><span class="pln">lua</span><span class="pun">-</span><span class="pln">bindings</span><span class="pun">/</span><span class="pln">manual
</span><span class="pun">-</span><span class="pln">I</span><span class="pun">%(</span><span class="pln">cocosdir</span><span class="pun">)</span><span class="pln">s</span><span class="pun">/</span><span class="pln">external</span><span class="pun">/</span><span class="pln">lua</span><span class="pun">/</span><span class="pln">tolua</span></pre>
</li>
<li>将下列头文件设置到headers，直接覆盖原有的就好，依然空格分隔，不能换行。
<pre class="prettyprint prettyprinted"><span class="pun">%(</span><span class="pln">cocosdir</span><span class="pun">)</span><span class="pln">s</span><span class="pun">/</span><span class="pln">cocos</span><span class="pun">/</span><span class="pln">editor</span><span class="pun">-</span><span class="pln">support</span><span class="pun">/</span><span class="pln">dragonbones</span><span class="pun">/</span><span class="pln">renderer</span><span class="pun">/</span><span class="pln">cocos2d</span><span class="pun">-</span><span class="pln">x</span><span class="pun">-</span><span class="lit">3.x</span><span class="pun">/</span><span class="typ">DBCCRenderHeaders</span><span class="pun">.</span><span class="pln">h
</span><span class="pun">%(</span><span class="pln">cocosdir</span><span class="pun">)</span><span class="pln">s</span><span class="pun">/</span><span class="pln">cocos</span><span class="pun">/</span><span class="pln">editor</span><span class="pun">-</span><span class="pln">support</span><span class="pun">/</span><span class="pln">dragonbones</span><span class="pun">/</span><span class="typ">DragonBonesHeaders</span><span class="pun">.</span><span class="pln">h</span></pre>
</li>
<li>将下列类添加到classess，自己覆盖原有的就好，依然空格分隔，不能换行。可以添加更多你自己需要的类。
<pre class="prettyprint prettyprinted"><span class="typ">DBCCArmature</span><span class="pln"> </span><span class="typ">DBCCArmatureNode</span><span class="pln"> </span><span class="typ">Armature</span><span class="pln"> </span><span class="typ">Animation</span><span class="pln"> </span><span class="typ">AnimationState</span><span class="pln"> </span><span class="typ">DBCCFactory</span><span class="pln"> </span><span class="typ">BaseFactory</span><span class="pln"> </span><span class="typ">Slot</span><span class="pln"> </span><span class="typ">DBCCSlot</span><span class="pln"> </span><span class="typ">WorldClock</span><span class="pln"> </span><span class="typ">IAnimatable</span></pre>
</li>
<li>设置skip为下面的，注意格式，可以自行修改。
<pre class="prettyprint prettyprinted"><span class="pln">skip </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Bone</span><span class="pun">::[</span><span class="pln">getSlots getChildArmature</span><span class="pun">],</span><span class="pln"> 
   </span><span class="typ">Armature</span><span class="pun">::[</span><span class="pln">getSlots getBones getBoundingBox</span><span class="pun">],</span><span class="pln">
   </span><span class="typ">Animation</span><span class="pun">::[</span><span class="pln">getAnimationDataList setAnimationDataList getAnimationData addLayer setActive</span><span class="pun">],</span><span class="pln">
   </span><span class="typ">Slot</span><span class="pun">::[</span><span class="pln">setDisplayList getDisplayList getBoundingBox</span><span class="pun">],</span><span class="pln">
   </span><span class="typ">BaseFactory</span><span class="pun">::[</span><span class="pln">getTextureAtlasMap getDragonBonesDataMap</span><span class="pun">],</span><span class="pln">
   </span><span class="typ">WorldClock</span><span class="pun">::[</span><span class="pln">add remove contains</span><span class="pun">]</span></pre>
</li>
<li>设置 abstract_classes 为下面的，直接覆盖就好。
<pre class="prettyprint prettyprinted"><span class="pln">abstract_classes </span><span class="pun">=</span><span class="pln"> </span><span class="typ">BaseFactory</span><span class="pln"> </span><span class="typ">Slot</span><span class="pln"> </span><span class="typ">Armature</span><span class="pln"> </span><span class="typ">IAnimatable</span><span class="pln"> </span><span class="typ">BaseFactory</span><span class="pln"> </span><span class="typ">Slot</span><span class="pln"> </span><span class="typ">Armature</span><span class="pln"> </span><span class="typ">IAnimatable</span></pre>
</li>
</ol>
<p>完整文件下载(<a href="https://github.com/lite3/DragonBonesCPPForLua/blob/master/cocos2dx-3.2/dragonbones.ini">cocos2dx3.2</a>, <a href="https://github.com/lite3/DragonBonesCPPForLua/blob/master/cocos2dx-3.3/dragonbones.ini">cocos2dx3.3</a>, <a href="https://github.com/lite3/DragonBonesCPPForLua/blob/master/cocos2dx-3.4/dragonbones.ini">cocos2dx3.4</a>)，其他版本的请自行修改。</p>
<h4>修改genbindings.py</h4>
<p>文件路径：MyLuaGame/frameworks/cocos2d-x/tools/tolua/genbindings.py</p>
<p>搜索<code>'cocos2dx.ini' : ('cocos2d-x', 'lua_cocos2dx_auto')</code>,<br>
在这一段中添加<code>'dragonbones.ini' : ('dragonbones', 'lua_dragonbones_auto'),</code>.<br>
完整代码段为：</p>
<pre class="prettyprint prettyprinted"><span class="pln">cmd_args </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">'cocos2dx.ini'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">(</span><span class="str">'cocos2d-x'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'lua_cocos2dx_auto'</span><span class="pun">),</span><span class="pln"> 
                    </span><span class="str">'cocos2dx_extension.ini'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">(</span><span class="str">'cocos2dx_extension'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'lua_cocos2dx_extension_auto'</span><span class="pun">),</span><span class="pln"> 
                    </span><span class="str">'cocos2dx_ui.ini'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">(</span><span class="str">'cocos2dx_ui'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'lua_cocos2dx_ui_auto'</span><span class="pun">),</span><span class="pln"> 
                    </span><span class="str">'cocos2dx_studio.ini'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">(</span><span class="str">'cocos2dx_studio'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'lua_cocos2dx_studio_auto'</span><span class="pun">),</span><span class="pln"> 
                    </span><span class="str">'cocos2dx_spine.ini'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">(</span><span class="str">'cocos2dx_spine'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'lua_cocos2dx_spine_auto'</span><span class="pun">),</span><span class="pln"> 
                    </span><span class="str">'cocos2dx_physics.ini'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">(</span><span class="str">'cocos2dx_physics'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'lua_cocos2dx_physics_auto'</span><span class="pun">),</span><span class="pln"> 
                    </span><span class="str">'cocos2dx_experimental_video.ini'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">(</span><span class="str">'cocos2dx_experimental_video'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'lua_cocos2dx_experimental_video_auto'</span><span class="pun">),</span><span class="pln"> 
                    </span><span class="str">'cocos2dx_experimental.ini'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">(</span><span class="str">'cocos2dx_experimental'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'lua_cocos2dx_experimental_auto'</span><span class="pun">),</span><span class="pln"> 
                    </span><span class="str">'cocos2dx_controller.ini'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">(</span><span class="str">'cocos2dx_controller'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'lua_cocos2dx_controller_auto'</span><span class="pun">),</span><span class="pln"> 
                    </span><span class="str">'dragonbones.ini'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">(</span><span class="str">'dragonbones'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'lua_dragonbones_auto'</span><span class="pun">),</span><span class="pln"> 
                    </span><span class="pun">}</span><span class="pln">
        target </span><span class="pun">=</span><span class="pln"> </span><span class="str">'lua'</span></pre>
<p>完整文件下载(<a href="https://github.com/lite3/DragonBonesCPPForLua/blob/master/cocos2dx-3.2/genbindings.py">cocos2dx3.2</a>, <a href="https://github.com/lite3/DragonBonesCPPForLua/blob/master/cocos2dx-3.3/genbindings.py">cocos2dx3.3</a>, <a href="https://github.com/lite3/DragonBonesCPPForLua/blob/master/cocos2dx-3.4/genbindings.py">cocos2dx3.4</a>)，其他版本的请自行修改。</p>
<h4>生成lua绑定</h4>
<p>由于cocos2dx-3.2版本的lua绑定缺少<code>dos2unix.exe</code>文件，所以需要从<a href="https://github.com/cocos2d/bindings-generator/blob/develop/tools/win32/dos2unix.exe">这里下载</a>，并放到<br>
MyLuaGame/frameworks/cocos2d-x/tools/bindings-generator/tools/win32 目录下。<br>
在命令行中运行<code>MyLuaGame/frameworks/cocos2d-x/tools/tolua/genbindings.py</code>，不出意外就一次生成成功了。</p>
<p>如果你没有配置好或者没有成功生成绑定文件，可以自己下载完整的绑定文件，其他版本的请自行修改。<br>
lua_dragonbones_auto.hpp(<a href="https://github.com/lite3/DragonBonesCPPForLua/blob/master/cocos2dx-3.2/lua_dragonbones_auto.hpp">cocos2dx3.2</a>, <a href="https://github.com/lite3/DragonBonesCPPForLua/blob/master/cocos2dx-3.3/lua_dragonbones_auto.hpp">cocos2dx3.3</a>, <a href="https://github.com/lite3/DragonBonesCPPForLua/blob/master/cocos2dx-3.4/lua_dragonbones_auto.hpp">cocos2dx3.4</a>)<br>
lua_dragonbones_auto.cpp(<a href="https://github.com/lite3/DragonBonesCPPForLua/blob/master/cocos2dx-3.2/lua_dragonbones_auto.cpp">cocos2dx3.2</a>, <a href="https://github.com/lite3/DragonBonesCPPForLua/blob/master/cocos2dx-3.3/lua_dragonbones_auto.cpp">cocos2dx3.3</a>, <a href="https://github.com/lite3/DragonBonesCPPForLua/blob/master/cocos2dx-3.4/lua_dragonbones_auto.cpp">cocos2dx3.4</a>)</p>
<h4>注册libDragonbones到liblua</h4>
<p>右键<code>libLua/auto</code> =&gt; 添加 =&gt; 现有项.. ，选择 MyLuaGame/frameworks/cocos2d-x/cocos/scripting/lua-bindings/auto/ 目录下的<code>lua_dragonbones_auto.cpp</code>和<code>lua_dragonbones_auto.hpp</code>文件。</p>
<p>向<code>CCLuaStack.cpp</code>中添加<code>#include "lua_dragonbones_auto.hpp"</code>头。<br>
向<code>bool LuaStack::init(void)</code>函数中添加<code>register_all_dragonbones(_state);</code>。</p>
<p>完整文件下载(<a href="https://github.com/lite3/DragonBonesCPPForLua/blob/master/cocos2dx-3.2/CCLuaStack.cpp">cocos2dx3.2</a>, <a href="https://github.com/lite3/DragonBonesCPPForLua/blob/master/cocos2dx-3.3/CCLuaStack.cpp">cocos2dx3.3</a>, <a href="https://github.com/lite3/DragonBonesCPPForLua/blob/master/cocos2dx-3.4/CCLuaStack.cpp">cocos2dx3.4</a>)，其他版本的请自行修改。</p>
<h4>最后</h4>
<p>到这里就全部结束了，项目应该能编译通过并运行，之后就用lua写代码吧。</p>
<p>如果<code>MyLuaGame</code>的C++部分也使用了dragonbones，那么也需要在为MyLuaGame项目添加搜索路径及预定义宏。</p>
<p>接下来可以看看：<br>
<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-android/">如何做dragonbones的lua绑定(Android)</a><br>
<a href="http://www.litefeel.com/how-to-use-dragonbones-in-lua/">如何在lua项目中使用dragonbones</a></p>
<p>更新记录：<br>
[2015/02/07] 增加了CCLuaStack.cpp及cocos2dx-3.3/3.4的链接<br>
[2015/02/05] 增加了添加搜索路径的方法<br>
[2015/01/15] 修改dragonbones/renderer下为cocos2d-x-3.x<br>
[2014/12/05] 增加了cocos2dx-3.2绑定好的hpp cpp文件<br>
[2014/11/24] 增加了cocos2dx-3.x的lua绑定链接<br>
[2014/11/24] 增加了<code>dragonbones.ini</code>的添加方法</p>
<div class="post_info"> <div class="announce_left"> » 转载请注明来源：<a title="www.litefeel.com" href="http://www.litefeel.com/">www.litefeel.com</a> » 《<a rel="bookmark" title="如何做dragonbones的lua绑定(VisualStudio)" href="./如何做dragonbones的lua绑定(VisualStudio)_files/如何做dragonbones的lua绑定(VisualStudio).html">如何做dragonbones的lua绑定(VisualStudio)</a>》<br>» 本文链接地址：<a rel="bookmark" title="如何做dragonbones的lua绑定(VisualStudio)" href="./如何做dragonbones的lua绑定(VisualStudio)_files/如何做dragonbones的lua绑定(VisualStudio).html">http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/</a><br>» 订阅本站：<a rel="external nofollow" title="LiteFeel的RSS源" href="http://www.litefeel.com/feed/" class="externallink">http://www.litefeel.com/feed/</a></div><div class="announce_right"><img src="./如何做dragonbones的lua绑定(VisualStudio)_files/how-to-do-lua-bindings-for-dragonbones-vs-qr.png" title="扫描二维码查看" alt="文章二维码" width="90" height="90"></div></div>			<div class="fixed"></div>
		</div>
				<div class="under">
						<span class="tags">标签: </span><span><a href="http://www.litefeel.com/tag/dragonbones/" rel="tag">Dragonbones</a>, <a href="http://www.litefeel.com/tag/lua/" rel="tag">Lua</a>, <a href="http://www.litefeel.com/tag/visual-studio/" rel="tag">Visual Studio</a></span>		</div>
	</div>
	
	<!-- related posts START -->
	<div id="related_posts">
<div class="wp_rp_wrap  wp_rp_plain" id="wp_rp_first"><div class="wp_rp_content"><h3 class="related_post_title">相关文章:</h3><ul class="related_post wp_rp"><li data-position="0" data-poid="in-2540" data-post-type="none"><a href="http://www.litefeel.com/how-to-use-dragonbones-in-lua/" class="wp_rp_title">如何在lua项目中使用dragonbones</a></li><li data-position="1" data-poid="in-2526" data-post-type="none"><a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-android/" class="wp_rp_title">如何做dragonbones的lua绑定(Android)</a></li><li data-position="2" data-poid="in-2288" data-post-type="none"><a href="http://www.litefeel.com/visual-studio-2013-professional-key/" class="wp_rp_title">Visual Studio 2013 Professional Key</a></li><li data-position="3" data-poid="in-2163" data-post-type="none"><a href="http://www.litefeel.com/lua-override-userdata/" class="wp_rp_title">cocos2dx开发中的lua继承与覆盖C++方法</a></li><li data-position="4" data-poid="in-1392" data-post-type="none"><a href="http://www.litefeel.com/cross-flash-security-sandbox-get-spectrum/" class="wp_rp_title">绕过安全沙箱获取音频频谱</a></li><li data-position="5" data-poid="in-713" data-post-type="none"><a href="http://www.litefeel.com/404-and-complete-at-urlloader/" class="wp_rp_title">URLLoader 404 Error 与 complete事件</a></li><li data-position="6" data-poid="in-2258" data-post-type="none"><a href="http://www.litefeel.com/shell-note/" class="wp_rp_title">shell笔记</a></li><li data-position="7" data-poid="in-496" data-post-type="none"><a href="http://www.litefeel.com/function-overloading-for-as3/" class="wp_rp_title">AS 函数重载</a></li><li data-position="8" data-poid="in-110" data-post-type="none"><a href="http://www.litefeel.com/update-wordpress/" class="wp_rp_title">今天换最新版的WordPress</a></li><li data-position="9" data-poid="in-1071" data-post-type="none"><a href="http://www.litefeel.com/notepaper-not-malware/" class="wp_rp_title">notepaper 不再被360报恶意程序了</a></li></ul></div></div>
</div><div class="fixed"></div>	<!-- related posts END -->
	<div id="postnavi">
		<span class="prev"><a href="http://www.litefeel.com/free-license-for-texturepacker/" rel="next">免费获得texturepacker许可证</a></span>
		<span class="next"><a href="http://www.litefeel.com/file-path-in-cross-platform/" rel="prev">cocos2dx跨平台文件路径</a></span>
		<div class="fixed"></div>
	</div>
	

	<div id="comments">
			<form action="http://www.litefeel.com/wp-comments-post.php" method="post" id="commentform">
		<div id="respond">

							
				<div id="author_info">
					<div class="row">
						<input type="text" name="author" id="author" class="textfield" value="" size="24" tabindex="1">
						<label for="author" class="small">昵称 (必填)</label>
					</div>
					<div class="row">
						<input type="text" name="email" id="email" class="textfield" value="" size="24" tabindex="2">
						<label for="email" class="small">电子邮箱 (我们会为您保密) (必填)</label>
					</div>
					<div class="row">
						<input type="text" name="url" id="url" class="textfield" value="" size="24" tabindex="3">
						<label for="url" class="small">网址</label>
					</div>
				</div>

				
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="14072e4dc0"></p><p style="display: none;"></p>			<!-- comment input -->
			<div class="row">
				<textarea name="wall" id="comment" tabindex="4" rows="8" cols="50"></textarea><textarea name="comment" cols="50" rows="4" style="display:none"></textarea>
			</div>

			<!-- comment submit and rss -->
			<div id="submitbox">
				<a class="feed" href="http://www.litefeel.com/comments/feed/">订阅评论</a>
				<div class="submitbutton">
					<input name="submit" type="submit" id="submit" class="button" tabindex="5" value="提交评论 (Ctrl+Enter)">
				</div>
								<input type="hidden" name="comment_post_ID" value="2480">
				<div class="fixed"></div>
			</div>
		</div>
		<input type="hidden" id="ak_js" name="ak_js" value="1426853852629"></form>

					<script type="text/javascript">jQuery(MGJS.loadCommentShortcut);</script>
		
	
<div id="cmtswitcher">
			<a id="commenttab" class="curtab" href="javascript:void(0);" onclick="MGJS.switchTab(&#39;thecomments,commentnavi&#39;, &#39;thetrackbacks&#39;, &#39;commenttab&#39;, &#39;curtab&#39;, &#39;trackbacktab&#39;, &#39;tab&#39;);">评论 (49)</a>
		<a id="trackbacktab" class="tab" href="javascript:void(0);" onclick="MGJS.switchTab(&#39;thetrackbacks&#39;, &#39;thecomments,commentnavi&#39;, &#39;trackbacktab&#39;, &#39;curtab&#39;, &#39;commenttab&#39;, &#39;tab&#39;);">Trackbacks (2)</a>
				<span class="addcomment"><a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond">发表评论</a></span>
				<span class="addtrackback"><a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/trackback/">Trackback</a></span>
		<div class="fixed"></div>
</div>

<div id="commentlist">
	<!-- comments START -->
	<ol id="thecomments">
		<li class="comment" id="comment-10653" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
		<img alt="https://secure.gravatar.com/avatar/313d0583bfc8ccc7bebd7594f8497177?s=32&amp;d=&amp;r=G" src="./如何做dragonbones的lua绑定(VisualStudio)_files/313d0583bfc8ccc7bebd7594f8497177" class="avatar avatar-32 photo comments-avatar-lazyload" height="32" width="32">		<div class="info">
			<div class="date">
							<a id="commentauthor-10653" class="url externallink" href="http://www.litefeel.com/" rel="external nofollow" itemprop="author">
							lite3								</a> | 
						<time itemprop="the_time_ISO8601();" datetime="2014-10-16T18:39:46+00:00">
			2015年3月20日16:20			</time>
					 | <a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10653" itemprop="url">#1</a>
			</div>
			<div class="act">
				<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond" onclick="MGJS_CMT.reply(&#39;commentauthor-10653&#39;, &#39;comment-10653&#39;, &#39;comment&#39;);">回复</a> | 
				<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond" onclick="MGJS_CMT.quote(&#39;commentauthor-10653&#39;, &#39;comment-10653&#39;, &#39;commentbody-10653&#39;, &#39;comment&#39;);">引用</a>
							</div>
			<div class="fixed"></div>
			<div class="content">
				
				<div id="commentbody-10653" itemprop="text">
					<p><a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10652" rel="nofollow" class="atreply">@熊 </a><br>
xcode下没有的，直接将dragonbones下的文件都放到libcocos2d中，然后将lua绑定的文件放到liblua工程中，并设置好搜索路径就好了。</p>
				</div>
			</div>
		</div>
		<div class="fixed"></div>
</li><!-- #comment-## -->
	<li class="comment even" id="comment-10652" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
		<img alt="https://secure.gravatar.com/avatar/7a5eefe611b5f08507e119bbe463d63d?s=32&amp;d=&amp;r=G" src="./如何做dragonbones的lua绑定(VisualStudio)_files/7a5eefe611b5f08507e119bbe463d63d" class="avatar avatar-32 photo comments-avatar-lazyload" height="32" width="32">		<div class="info">
			<div class="date">
							<span id="commentauthor-10652" itemprop="author">
							熊								</span>
						<time itemprop="the_time_ISO8601();" datetime="2014-10-16T18:39:46+00:00">
			2015年3月20日16:17			</time>
					 | <a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10652" itemprop="url">#2</a>
			</div>
			<div class="act">
				<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond" onclick="MGJS_CMT.reply(&#39;commentauthor-10652&#39;, &#39;comment-10652&#39;, &#39;comment&#39;);">回复</a> | 
				<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond" onclick="MGJS_CMT.quote(&#39;commentauthor-10652&#39;, &#39;comment-10652&#39;, &#39;commentbody-10652&#39;, &#39;comment&#39;);">引用</a>
							</div>
			<div class="fixed"></div>
			<div class="content">
				
				<div id="commentbody-10652" itemprop="text">
					<p>求mac下如何配置！！！！！</p>
				</div>
			</div>
		</div>
		<div class="fixed"></div>
</li><!-- #comment-## -->
	<li class="comment" id="comment-10481" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
		<img alt="https://secure.gravatar.com/avatar/313d0583bfc8ccc7bebd7594f8497177?s=32&amp;d=&amp;r=G" src="./如何做dragonbones的lua绑定(VisualStudio)_files/313d0583bfc8ccc7bebd7594f8497177" class="avatar avatar-32 photo comments-avatar-lazyload" height="32" width="32">		<div class="info">
			<div class="date">
							<a id="commentauthor-10481" class="url externallink" href="http://www.litefeel.com/" rel="external nofollow" itemprop="author">
							lite3								</a> | 
						<time itemprop="the_time_ISO8601();" datetime="2014-10-16T18:39:46+00:00">
			2015年2月8日13:56			</time>
					 | <a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10481" itemprop="url">#3</a>
			</div>
			<div class="act">
				<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond" onclick="MGJS_CMT.reply(&#39;commentauthor-10481&#39;, &#39;comment-10481&#39;, &#39;comment&#39;);">回复</a> | 
				<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond" onclick="MGJS_CMT.quote(&#39;commentauthor-10481&#39;, &#39;comment-10481&#39;, &#39;commentbody-10481&#39;, &#39;comment&#39;);">引用</a>
							</div>
			<div class="fixed"></div>
			<div class="content">
				
				<div id="commentbody-10481" itemprop="text">
					<p><a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10478" rel="nofollow" class="atreply">@Tshine </a><br>
昨天上传了db的性能测试例子，在我的MX1上可以放50只帧频是50左右，看来性能不是很好。</p>
				</div>
			</div>
		</div>
		<div class="fixed"></div>
</li><!-- #comment-## -->
	<li class="comment even" id="comment-10478" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
		<img alt="https://secure.gravatar.com/avatar/3d10ff6e86e59fc808770edf155e2db4?s=32&amp;d=&amp;r=G" src="./如何做dragonbones的lua绑定(VisualStudio)_files/3d10ff6e86e59fc808770edf155e2db4" class="avatar avatar-32 photo comments-avatar-lazyload" height="32" width="32">		<div class="info">
			<div class="date">
							<span id="commentauthor-10478" itemprop="author">
							Tshine								</span>
						<time itemprop="the_time_ISO8601();" datetime="2014-10-16T18:39:46+00:00">
			2015年2月7日23:55			</time>
					 | <a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10478" itemprop="url">#4</a>
			</div>
			<div class="act">
				<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond" onclick="MGJS_CMT.reply(&#39;commentauthor-10478&#39;, &#39;comment-10478&#39;, &#39;comment&#39;);">回复</a> | 
				<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond" onclick="MGJS_CMT.quote(&#39;commentauthor-10478&#39;, &#39;comment-10478&#39;, &#39;commentbody-10478&#39;, &#39;comment&#39;);">引用</a>
							</div>
			<div class="fixed"></div>
			<div class="content">
				
				<div id="commentbody-10478" itemprop="text">
					<p><a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10477" rel="nofollow" class="atreply">@lite3 </a><br>
嗯，是的。<br>
cocos2dx3.3final cpp做的测试</p>
				</div>
			</div>
		</div>
		<div class="fixed"></div>
</li><!-- #comment-## -->
	<li class="comment" id="comment-10477" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
		<img alt="https://secure.gravatar.com/avatar/313d0583bfc8ccc7bebd7594f8497177?s=32&amp;d=&amp;r=G" src="./如何做dragonbones的lua绑定(VisualStudio)_files/313d0583bfc8ccc7bebd7594f8497177" class="avatar avatar-32 photo comments-avatar-lazyload" height="32" width="32">		<div class="info">
			<div class="date">
							<a id="commentauthor-10477" class="url externallink" href="http://www.litefeel.com/" rel="external nofollow" itemprop="author">
							lite3								</a> | 
						<time itemprop="the_time_ISO8601();" datetime="2014-10-16T18:39:46+00:00">
			2015年2月7日23:51			</time>
					 | <a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10477" itemprop="url">#5</a>
			</div>
			<div class="act">
				<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond" onclick="MGJS_CMT.reply(&#39;commentauthor-10477&#39;, &#39;comment-10477&#39;, &#39;comment&#39;);">回复</a> | 
				<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond" onclick="MGJS_CMT.quote(&#39;commentauthor-10477&#39;, &#39;comment-10477&#39;, &#39;commentbody-10477&#39;, &#39;comment&#39;);">引用</a>
							</div>
			<div class="fixed"></div>
			<div class="content">
				
				<div id="commentbody-10477" itemprop="text">
					<p><a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10476" rel="nofollow" class="atreply">@Tshine </a><br>
是cocos2dx3.x的吗，其实还没做过性能测试。</p>
				</div>
			</div>
		</div>
		<div class="fixed"></div>
</li><!-- #comment-## -->
	<li class="comment even" id="comment-10476" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
		<img alt="https://secure.gravatar.com/avatar/3d10ff6e86e59fc808770edf155e2db4?s=32&amp;d=&amp;r=G" src="./如何做dragonbones的lua绑定(VisualStudio)_files/3d10ff6e86e59fc808770edf155e2db4" class="avatar avatar-32 photo comments-avatar-lazyload" height="32" width="32">		<div class="info">
			<div class="date">
							<span id="commentauthor-10476" itemprop="author">
							Tshine								</span>
						<time itemprop="the_time_ISO8601();" datetime="2014-10-16T18:39:46+00:00">
			2015年2月7日23:50			</time>
					 | <a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10476" itemprop="url">#6</a>
			</div>
			<div class="act">
				<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond" onclick="MGJS_CMT.reply(&#39;commentauthor-10476&#39;, &#39;comment-10476&#39;, &#39;comment&#39;);">回复</a> | 
				<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond" onclick="MGJS_CMT.quote(&#39;commentauthor-10476&#39;, &#39;comment-10476&#39;, &#39;commentbody-10476&#39;, &#39;comment&#39;);">引用</a>
							</div>
			<div class="fixed"></div>
			<div class="content">
				
				<div id="commentbody-10476" itemprop="text">
					<p>锤子手机30只龙跑步动作，30~40帧徘徊。感觉上效率好像有点低……顶点数3000来个，drawcall 4<br>
博主项目里一般跑几个实例不影响帧率？</p>
				</div>
			</div>
		</div>
		<div class="fixed"></div>
</li><!-- #comment-## -->
	<li class="comment" id="comment-10457" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
		<img alt="https://secure.gravatar.com/avatar/37df1414758ed67f325578b4c70e4853?s=32&amp;d=&amp;r=G" src="./如何做dragonbones的lua绑定(VisualStudio)_files/37df1414758ed67f325578b4c70e4853" class="avatar avatar-32 photo comments-avatar-lazyload" height="32" width="32">		<div class="info">
			<div class="date">
							<span id="commentauthor-10457" itemprop="author">
							ray								</span>
						<time itemprop="the_time_ISO8601();" datetime="2014-10-16T18:39:46+00:00">
			2015年2月4日14:55			</time>
					 | <a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10457" itemprop="url">#7</a>
			</div>
			<div class="act">
				<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond" onclick="MGJS_CMT.reply(&#39;commentauthor-10457&#39;, &#39;comment-10457&#39;, &#39;comment&#39;);">回复</a> | 
				<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond" onclick="MGJS_CMT.quote(&#39;commentauthor-10457&#39;, &#39;comment-10457&#39;, &#39;commentbody-10457&#39;, &#39;comment&#39;);">引用</a>
							</div>
			<div class="fixed"></div>
			<div class="content">
				
				<div id="commentbody-10457" itemprop="text">
					<p><a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10455" rel="nofollow" class="atreply">@lite3 </a><br>
我试过用三星的3502u放三十只龙进去。帧率会掉到20多帧。</p>
				</div>
			</div>
		</div>
		<div class="fixed"></div>
</li><!-- #comment-## -->
	<li class="comment even" id="comment-10455" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
		<img alt="https://secure.gravatar.com/avatar/313d0583bfc8ccc7bebd7594f8497177?s=32&amp;d=&amp;r=G" src="./如何做dragonbones的lua绑定(VisualStudio)_files/313d0583bfc8ccc7bebd7594f8497177" class="avatar avatar-32 photo comments-avatar-lazyload" height="32" width="32">		<div class="info">
			<div class="date">
							<a id="commentauthor-10455" class="url externallink" href="http://www.litefeel.com/" rel="external nofollow" itemprop="author">
							lite3								</a> | 
						<time itemprop="the_time_ISO8601();" datetime="2014-10-16T18:39:46+00:00">
			2015年2月4日13:19			</time>
					 | <a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10455" itemprop="url">#8</a>
			</div>
			<div class="act">
				<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond" onclick="MGJS_CMT.reply(&#39;commentauthor-10455&#39;, &#39;comment-10455&#39;, &#39;comment&#39;);">回复</a> | 
				<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond" onclick="MGJS_CMT.quote(&#39;commentauthor-10455&#39;, &#39;comment-10455&#39;, &#39;commentbody-10455&#39;, &#39;comment&#39;);">引用</a>
							</div>
			<div class="fixed"></div>
			<div class="content">
				
				<div id="commentbody-10455" itemprop="text">
					<p><a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10453" rel="nofollow" class="atreply">@ray </a><br>
<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10451" rel="nofollow" class="atreply">@熊 </a><br>
dragonbones有官方QQ群：205889387<br>
性能测试还没有做过，不过我们游戏中也有好多dragonbones的实例，没有出现很卡的情况，建议做一个简单的demo跑下，看看是不是真的是dragonbones本身的问题。</p>
				</div>
			</div>
		</div>
		<div class="fixed"></div>
</li><!-- #comment-## -->
	<li class="comment" id="comment-10454" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
		<img alt="https://secure.gravatar.com/avatar/37df1414758ed67f325578b4c70e4853?s=32&amp;d=&amp;r=G" src="./如何做dragonbones的lua绑定(VisualStudio)_files/37df1414758ed67f325578b4c70e4853" class="avatar avatar-32 photo comments-avatar-lazyload" height="32" width="32">		<div class="info">
			<div class="date">
							<span id="commentauthor-10454" itemprop="author">
							ray								</span>
						<time itemprop="the_time_ISO8601();" datetime="2014-10-16T18:39:46+00:00">
			2015年2月4日12:58			</time>
					 | <a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10454" itemprop="url">#9</a>
			</div>
			<div class="act">
				<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond" onclick="MGJS_CMT.reply(&#39;commentauthor-10454&#39;, &#39;comment-10454&#39;, &#39;comment&#39;);">回复</a> | 
				<a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond" onclick="MGJS_CMT.quote(&#39;commentauthor-10454&#39;, &#39;comment-10454&#39;, &#39;commentbody-10454&#39;, &#39;comment&#39;);">引用</a>
							</div>
			<div class="fixed"></div>
			<div class="content">
				
				<div id="commentbody-10454" itemprop="text">
					<p><a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10451" rel="nofollow" class="atreply">@熊 </a></p>
<p>我也想求博主建群~</p>
				</div>
			</div>
		</div>
		<div class="fixed"></div>
</li><!-- #comment-## -->
	</ol>
	<!-- comments END -->

		<div id="commentnavi">
			<span class="pages">评论分页</span>
			<div id="commentpager">
				<a class="prev page-numbers" href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/comment-page-2/#comments">« 上一页</a>
<a class="page-numbers" href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/comment-page-1/#comments">1</a>
<a class="page-numbers" href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/comment-page-2/#comments">2</a>
<span class="page-numbers current">3</span>				<span id="cp_post_id">2480</span>
			</div>
			<div class="fixed"></div>
		</div>

	<!-- trackbacks START -->
	
		<ol id="thetrackbacks">
									<li id="comment-10492" class="pingback even thread-even depth-1">
			<div class="comment-body">
				Pingback： <a href="http://www.litefeel.com/how-to-use-dragonbones-in-lua/" rel="external nofollow" class="url externallink">如何在lua项目中使用dragonbones</a> 			</div>
</li><!-- #comment-## -->
		<li id="comment-10467" class="pingback odd alt thread-odd thread-alt depth-1">
			<div class="comment-body">
				Pingback： <a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-android/" rel="external nofollow" class="url externallink">如何做dragonbones的lua绑定(Android)</a> 			</div>
</li><!-- #comment-## -->
					</ol>
			<div class="fixed"></div>
	<!-- trackbacks END -->
</div>
	<div class="goback">
		<span class="addcomment"><a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#respond">发表评论</a></span>
		<span class="read-article"><a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#main" rel="nofollow">阅读文章</a></span>
	</div>
	<div class="fixed"></div>
</div>
	

	</div>
	<!-- main END -->

	<!-- sidebar START -->
<div id="sidebar">
	<!-- feeds -->
	<div class="widget widget_feeds">
		<div class="content">
			<div id="subscribe">
				<a rel="external nofollow" id="feedrss" title="订阅这个博客的文章" href="http://www.litefeel.com/feed/" class="externallink">订阅</a>
								<a rel="external nofollow" id="microblog_t" title="我的腾讯微博" href="http://t.qq.com/lite3_" class="externallink">腾讯</a>
				<a rel="external nofollow" id="microblog_sina" title="我的新浪微博" href="http://weibo.com/lite3" class="externallink">新浪</a>
				<a rel="external nofollow" id="github" title="我的GitHub" href="https://github.com/lite3" class="externallink">GitHub</a>
			</div>
						
			<div class="fixed"></div>
		</div>
	</div>
	<!-- showcase -->
		<!-- posts -->
		<div class="widget">
		<div class="widget-title">最新文章</div>
		<ul>
			<li><a href="http://www.litefeel.com/how-to-use-dragonbones-in-lua/">如何在lua项目中使用dragonbones</a></li><li><a href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-android/">如何做dragonbones的lua绑定(Android)</a></li><li><a href="http://www.litefeel.com/writing-wordpress-posts-in-markdown/">用markdown语法写wp文章</a></li><li><a href="http://www.litefeel.com/free-license-for-texturepacker/">免费获得texturepacker许可证</a></li><li><a href="./如何做dragonbones的lua绑定(VisualStudio)_files/如何做dragonbones的lua绑定(VisualStudio).html">如何做dragonbones的lua绑定(VisualStudio)</a></li><li><a href="http://www.litefeel.com/file-path-in-cross-platform/">cocos2dx跨平台文件路径</a></li><li><a href="http://www.litefeel.com/linode-vps/">使用linode VPS</a></li><li><a href="http://www.litefeel.com/c-plus-plus-polymorphism/">C++多态</a></li><li><a href="http://www.litefeel.com/sublimetext-shortcuts/">sublimetext常用快捷键</a></li><li><a href="http://www.litefeel.com/tafanghaizeiwang/">塔防海贼王</a></li>		</ul>
	</div>
	<div class="widget">
		<div class="widget-title"><a href="http://www.litefeel.com/categories/">分类目录</a></div>
		<ul class="categoriesForTwo">
				<li class="cat-item cat-item-7"><a href="http://www.litefeel.com/category/other/">Other</a>
</li>
	<li class="cat-item cat-item-6"><a href="http://www.litefeel.com/category/sfs/">SFS</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://www.litefeel.com/category/wordpress/">WordPress</a>
</li>
	<li class="cat-item cat-item-307"><a href="http://www.litefeel.com/category/tools/">开发工具</a>
</li>
	<li class="cat-item cat-item-126"><a href="http://www.litefeel.com/category/database/">数据库</a>
</li>
	<li class="cat-item cat-item-306"><a href="http://www.litefeel.com/category/development/">程序开发</a>
</li>
	<li class="cat-item cat-item-70"><a href="http://www.litefeel.com/category/arithmetic/">算法</a>
</li>
	<li class="cat-item cat-item-60"><a href="http://www.litefeel.com/category/summary/">经验之谈</a>
</li>
		</ul>
		<div class="clearfix"></div>
	</div>
	<!-- recent comments -->
			<div id="recent-comments" class="widget">
			<div class="widget-title">最近评论</div>
			<ul style="cursor: auto;"><li id="rc-comment-10653" class="rc-item rc-comment rc-clearfix"><img class="rc-avatar rc-left" width="32" height="32" alt="" src="./如何做dragonbones的lua绑定(VisualStudio)_files/313d0583bfc8ccc7bebd7594f8497177"><div class="rc-info"><a class="rc-reviewer" rel="nofollow" href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10653" title="如何做dragonbones的lua绑定(VisualStudio)">lite3</a></div><div class="rc-timestamp"></div><div class="rc-excerpt">@熊 xcode下没有的，直接<span class="rc-ellipsis">...</span></div></li><li id="rc-comment-10652" class="rc-item rc-comment rc-clearfix"><img class="rc-avatar rc-left" width="32" height="32" alt="" src="./如何做dragonbones的lua绑定(VisualStudio)_files/7a5eefe611b5f08507e119bbe463d63d"><div class="rc-info"><a class="rc-reviewer" rel="nofollow" href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10652" title="如何做dragonbones的lua绑定(VisualStudio)">熊</a></div><div class="rc-timestamp"></div><div class="rc-excerpt">求mac下如何配置！！！！！</div></li><li id="rc-comment-10648" class="rc-item rc-comment rc-clearfix"><img class="rc-avatar rc-left" width="32" height="32" alt="" src="./如何做dragonbones的lua绑定(VisualStudio)_files/7a5eefe611b5f08507e119bbe463d63d"><div class="rc-info"><a class="rc-reviewer" rel="nofollow" href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-android/#comment-10648" title="如何做dragonbones的lua绑定(Android)">熊</a></div><div class="rc-timestamp"></div><div class="rc-excerpt">有mac版本的么？</div></li><li id="rc-comment-10547" class="rc-item rc-comment rc-clearfix"><img class="rc-avatar rc-left" width="32" height="32" alt="" src="./如何做dragonbones的lua绑定(VisualStudio)_files/4dff8e93dbbf05b0f31a0d73ab851fee"><div class="rc-info"><a class="rc-reviewer" rel="nofollow" href="http://www.litefeel.com/application-domains/#comment-10547" title="教程：深入理解Flash的应用程序域(Application Domains)">chenze</a></div><div class="rc-timestamp"></div><div class="rc-excerpt">文章赞！！不过文章提到“如果是<span class="rc-ellipsis">...</span></div></li><li id="rc-comment-10481" class="rc-item rc-comment rc-clearfix"><img class="rc-avatar rc-left" width="32" height="32" alt="" src="./如何做dragonbones的lua绑定(VisualStudio)_files/313d0583bfc8ccc7bebd7594f8497177"><div class="rc-info"><a class="rc-reviewer" rel="nofollow" href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10481" title="如何做dragonbones的lua绑定(VisualStudio)">lite3</a></div><div class="rc-timestamp"></div><div class="rc-excerpt">@Tshine 昨天上传了db<span class="rc-ellipsis">...</span></div></li><li id="rc-comment-10478" class="rc-item rc-comment rc-clearfix"><img class="rc-avatar rc-left" width="32" height="32" alt="" src="./如何做dragonbones的lua绑定(VisualStudio)_files/3d10ff6e86e59fc808770edf155e2db4"><div class="rc-info"><a class="rc-reviewer" rel="nofollow" href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10478" title="如何做dragonbones的lua绑定(VisualStudio)">Tshine</a></div><div class="rc-timestamp"></div><div class="rc-excerpt">@lite3 嗯，是的。coc<span class="rc-ellipsis">...</span></div></li><li id="rc-comment-10477" class="rc-item rc-comment rc-clearfix"><img class="rc-avatar rc-left" width="32" height="32" alt="" src="./如何做dragonbones的lua绑定(VisualStudio)_files/313d0583bfc8ccc7bebd7594f8497177"><div class="rc-info"><a class="rc-reviewer" rel="nofollow" href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10477" title="如何做dragonbones的lua绑定(VisualStudio)">lite3</a></div><div class="rc-timestamp"></div><div class="rc-excerpt">@Tshine 是cocos2<span class="rc-ellipsis">...</span></div></li><li id="rc-comment-10476" class="rc-item rc-comment rc-clearfix"><img class="rc-avatar rc-left" width="32" height="32" alt="" src="./如何做dragonbones的lua绑定(VisualStudio)_files/3d10ff6e86e59fc808770edf155e2db4"><div class="rc-info"><a class="rc-reviewer" rel="nofollow" href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#comment-10476" title="如何做dragonbones的lua绑定(VisualStudio)">Tshine</a></div><div class="rc-timestamp"></div><div class="rc-excerpt">锤子手机30只龙跑步动作，30<span class="rc-ellipsis">...</span></div></li><li class="rc-navi rc-clearfix"><a "rel="nofollow&quot;" class="rc-older">下一页 »</a></li></ul>
		</div>
			
				</div>
	<!-- sidebar west END -->
	<div class="fixed"></div>
</div>
</div>
<!-- sidebar END -->
	<div class="fixed"></div>
</div>
<!-- content END -->

<!-- footer START -->
<div id="footer">
<div class="inner clearfix">
	<div id="copyright">
		Copyright © 2009-2015 <a href="http://www.litefeel.com/">LiteFeel</a> . All rights reserved.	</div>
	<div id="themeinfo">
		Power by <a rel="external" href="http://wordpress.org/" class="externallink">WordPress</a>. 
		Theme by <a rel="external" href="http://www.neoease.com/" class="externallink">NeoEase</a>. 
		Host on <a rel="external" href="https://www.linode.com/?r=e99568e929b474fd25dec4e734d04e7d08e8b42c" class="externallink">Linode VPS</a>. |  
		Valid <a rel="external nofollow" href="http://validator.w3.org/check?uri=referer" class="externallink">HTML5</a> and <a rel="external nofollow" href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" class="externallink">CSS 3</a>.
	</div>
</div>
</div>
<!-- footer END -->
<a id="gotop" href="http://www.litefeel.com/how-to-do-lua-bindings-for-dragonbones-vs/#" onclick="MGJS.goTop();return false;" style="z-index: 9999; right: 0px; bottom: 0px; position: fixed; display: block;">回到顶部</a>

<!-- container END -->
<script>
/* <![CDATA[ */
var rcGlobal = {
	serverUrl		:'http://www.litefeel.com',
	infoTemp		:'%REVIEWER% 在 %POST%',
	loadingText		:'正在加载',
	noCommentsText	:'没有任何评论',
	newestText		:'&laquo; 最新的',
	newerText		:'&laquo; 上一页',
	olderText		:'下一页 &raquo;',
	showContent		:'',
	external		:'1',
	avatarSize		:'32',
	avatarPosition	:'left',
	anonymous		:'匿名'
};
/* ]]> */
</script>
<script type="text/javascript" src="./如何做dragonbones的lua绑定(VisualStudio)_files/form.js"></script>
<script type="text/javascript" src="./如何做dragonbones的lua绑定(VisualStudio)_files/lazyload.js"></script>
<script type="text/javascript" src="./如何做dragonbones的lua绑定(VisualStudio)_files/comment.js"></script>
<script type="text/javascript" src="./如何做dragonbones的lua绑定(VisualStudio)_files/wp-recentcomments.js"></script>
<script>
/* <![CDATA[ */
jQuery('a[rel~=external]').addClass("externallink").click( function(){window.open(jQuery(this).attr("href"));return false;});
jQuery('a').click( function(){if(jQuery(this).hasClass("externallink")){return true;};
var url = jQuery(this).attr("href")+"";var result=(/^(http|https):\/\/(.*)$/i).exec(url);
if(result){if(!(/^(www\.)?litefeel\.com/i).test(result[2])){window.open(url);return false;}}return true;
});
/* ]]> */
</script><script>
/* <![CDATA[ */
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-27650005-1',{'cookieDomain':'www.litefeel.com'});
ga('send', 'pageview');
/* ]]> */
</script>


</body></html>